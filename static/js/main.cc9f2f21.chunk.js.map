{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/constants.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","props","className","src","logo","alt","lang","CurrentUserContext","React","createContext","Card","currentUser","useContext","card","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","click","link","onCardDelete","name","onCardLike","type","length","Main","editAvatar","avatar","editProfile","about","addPlace","cards","map","key","showPic","handleCardLike","handleCardDelete","Footer","PopupWithImage","isOpen","id","cardInfo","close","PopupWithForm","size","onSubmit","noValidate","title","children","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","onClose","e","preventDefault","onUserUpdate","value","placeholder","minLength","maxLength","pattern","onChange","evt","target","required","EditAvatarPopup","avatarRef","useRef","onAvatarUpdate","current","ref","AddPlacePopup","nameRef","linkRef","onAddPlace","api","baseUrl","headers","this","_baseUrl","_headers","console","log","res","ok","json","Promise","reject","status","fetch","then","_response","method","body","JSON","stringify","cardId","methodName","authorization","App","isEditAvatarPopupOpen","setAvatarPopupOpen","isEditProfilePopupOpen","setProfileEditPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","imageInfo","setImageInfo","setCurrentUser","setCards","closePopup","getUserInfo","user","catch","err","getDefaultCards","Provider","changeCardLikeStatus","newCard","newCards","c","deleteCard","filter","setUserAvatar","data","updateUserInfo","addNewPlace","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.cc9f2f21.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Mesto Russia\" lang=\"en\" />\n    </header>\n  );\n}\n\nexport default Header\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const card = props.card;\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? 'card__delete-button_active' : 'card__delete-button_inactive'}`\n  );\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `card__like-button ${isLiked ? 'card__like-button_active' : 'card__like-button_inactive'}`\n  );\n\n  function clickOnCard() {\n    props.click(card)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card)\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(card)\n  }\n\n  return (\n    <div className=\"card\">\n      <img onClick={clickOnCard} className=\"card__image\" alt=\"фото\" src={card.link} />\n      <button onClick={handleCardDelete} className={cardDeleteButtonClassName}></button>\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__like-wrapper\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\"></button>\n          <p className=\"card__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__container\">\n          <button onClick={props.editAvatar} className=\"profile__avatar-button\">\n            <img\n              className=\"profile__avatar\"\n              alt=\"Ваше фото\"\n              src={currentUser.avatar}\n            />\n          </button>\n          <div className=\"profile__info\">\n            <div className=\"profile__wrapper\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                className=\"profile__edit-button\"\n                type=\"button\"\n                onClick={props.editProfile}\n              ></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"open-newcard-popup-button\"\n          onClick={props.addPlace}\n        ></button>\n      </section>\n\n      <section className=\"cards-container\">\n        {props.cards.map((card) => (\n          <Card key={card._id} card={card} click={props.showPic} onCardLike={props.handleCardLike} onCardDelete={props.handleCardDelete}/>\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer(props) {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\" lang=\"en\">&copy;2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react';\n\nfunction PopupWithImage(props) {\n  return (\n    <div className={`popup ${props.isOpen && 'popup_opened'}`} id=\"pic-popup\">\n      <div className=\"popup__wrapper\">\n        <img className=\"popup__image\" alt=\"фото\" src={props.cardInfo.link} />\n        <button onClick={props.close} className=\"popup__close-button\" id=\"close-picpopup\" type=\"button\"></button>\n        <h2 className=\"popup__image-title\">{props.cardInfo.name}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithImage;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.id}>\n      <form className={`popup__container popup__container_${props.size}`} onSubmit={props.onSubmit} noValidate>\n        <button className=\"popup__close-button\" id=\"close-avatar-popup-button\" type=\"button\" onClick={props.close}></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button className=\"popup__submit-button\" type=\"submit\">{props.submitButtonText}</button>\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState([]);\n  const [description, setDescription] = React.useState([]);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUserUpdate(name, description);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      id=\"profile-edit-popup\"\n      size=\"large\"\n      title=\"Изменить данные\"\n      close={props.onClose}\n      submitButtonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <div className=\"popup__input-wrapper\">\n          <input\n            type=\"text\"\n            value={name || ''} // \"A component is changing an uncontrolled input of type text to be controlled\" fix\n            placeholder=\"Имя\"\n            className=\"popup__input\"\n            id=\"input-profile-title\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]{1,}\"\n            onChange={handleNameChange}\n            required\n          />\n          <span\n            className=\"popup__error-text\"\n            id=\"input-profile-title-error\"\n          ></span>\n        </div>\n        <div className=\"popup__input-wrapper\">\n          <input\n            type=\"text\"\n            value={description || ''}   // \"A component is changing an uncontrolled input of type text to be controlled\" fix\n            placeholder=\"О себе\"\n            className=\"popup__input\"\n            id=\"input-profile-subtitle\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            onChange={handleDescriptionChange}\n            required\n          />\n          <span\n            className=\"popup__error-text\"\n            id=\"input-profile-subtitle-error\"\n          ></span>\n        </div>\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAvatarUpdate(avatarRef.current.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      id=\"avatar-popup\"\n      size=\"medium\"\n      title=\"Обновить аватар\"\n      close={props.onClose}\n      submitButtonText=\"Обновить\"\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-wrapper\">\n        <input\n          type=\"url\"\n          placeholder=\"Ссылка на изображение\"\n          className=\"popup__input\"\n          id=\"input-avatar-link\"\n          ref={avatarRef}\n          required\n        />\n        <span\n          className=\"popup__error-text\"\n          id=\"input-avatar-link-error\"\n        ></span>\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace(nameRef.current.value, linkRef.current.value);\n  }\n\n  return (\n  <PopupWithForm\n    isOpen={props.isOpen}\n    id=\"newcard-popup\"\n    size=\"large\"\n    title=\"Добавить место\"\n    close={props.onClose}\n    submitButtonText=\"Добавить\"\n    onSubmit={handleSubmit}\n  >\n    <fieldset className=\"popup__fieldset\">\n      <div className=\"popup__input-wrapper\">\n        <input\n          type=\"text\"\n          placeholder=\"Название\"\n          className=\"popup__input\"\n          id=\"input-card-title\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          ref={nameRef}\n          required\n        />\n        <span\n          className=\"popup__error-text\"\n          id=\"input-card-title-error\"\n        ></span>\n      </div>\n      <div className=\"popup__input-wrapper\">\n        <input\n          type=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          className=\"popup__input\"\n          id=\"input-card-link\"\n          ref={linkRef}\n          required\n        />\n        <span\n          className=\"popup__error-text\"\n          id=\"input-card-link-error\"\n        ></span>\n      </div>\n    </fieldset>\n  </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import { loginInfo } from './constants.js'\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    console.log(this._baseUrl)\n  }\n\n  _response(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`error${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._response);\n  }\n\n  getDefaultCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._response);\n  }\n\n  updateUserInfo(name, description) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: description,\n      }),\n    }).then(this._response);\n  }\n\n  addNewPlace(title, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: title,\n        link: link,\n      }),\n    }).then(this._response);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._response);\n  }\n\n  changeCardLikeStatus(cardId, isLiked) {\n    let methodName = (isLiked === true ? 'PUT' : 'DELETE')\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: methodName,\n      headers: this._headers,\n    }).then(this._response)\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._response);\n  }\n}\n\nexport const api = new Api(loginInfo)\n","export const loginInfo = {\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-12\",\n  headers: {\n    authorization: \"246d132c-15dc-4567-a2e3-3aa37ea260d6\",\n    \"Content-Type\": \"application/json\",\n  },\n};\n\n\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithImage from './PopupWithImage.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { api } from '../utils/api.js';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setProfileEditPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [imageInfo, setImageInfo] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getDefaultCards()\n      .then((cards) => {\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [cards]);\n\n  function handleAvatarClick() {\n    setAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setProfileEditPopupOpen(true);\n  }\n\n  function handleAddPlacePopupClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function closePopup() {\n    setAvatarPopupOpen(false);\n    setProfileEditPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  function handleCardClick() {\n    setSelectedCard(true);\n  }\n\n  const openPicPopup = (card) => {\n    handleCardClick();\n    setImageInfo(card);\n  };\n\n  function handleUserUpdate(name, description) {\n    api.updateUserInfo(name, description).then((data) => {\n      setCurrentUser({\n        ...currentUser,\n        name: data.name,\n        about: data.about\n      });\n      closePopup()\n    });\n  }\n\n  function handleAvatarUpdate(link) {\n    api.setUserAvatar(link).then((data) => {\n      setCurrentUser({\n        ...currentUser,\n        avatar: data.avatar\n      });\n      closePopup()\n    });\n  }\n\n  function handleAddNewPlace(name, link) {\n    api.addNewPlace(name, link).then((newCard) => {\n      setCards([...cards, newCard]);\n      closePopup()\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeCardLikeStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map(c => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(c => {\n        return card._id !== c._id;\n      });\n      setCards(newCards);\n    });\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          editAvatar={handleAvatarClick}\n          editProfile={handleEditProfileClick}\n          addPlace={handleAddPlacePopupClick}\n          showPic={openPicPopup}\n          cards={cards}\n          handleCardLike={handleCardLike}\n          handleCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closePopup} onAvatarUpdate={handleAvatarUpdate} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closePopup} onUserUpdate={handleUserUpdate} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closePopup} onAddPlace={handleAddNewPlace} />\n\n        <PopupWithImage\n          isOpen={selectedCard}\n          close={closePopup}\n          cardInfo={imageInfo}\n        />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.697f7460.svg\";"],"sourceRoot":""}